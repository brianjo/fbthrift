"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8053],{3905:(e,t,n)=>{n.r(t),n.d(t,{MDXContext:()=>l,MDXProvider:()=>m,mdx:()=>u,useMDXComponents:()=>f,withMDXComponents:()=>p});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),p=function(e){return function(t){var n=f(t.components);return r.createElement(e,i({},t,{components:n}))}},f=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},m=function(e){var t=f(e.components);return r.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),p=f(n),m=a,h=p["".concat(o,".").concat(m)]||p[m]||d[m]||i;return n?r.createElement(h,s(s({ref:t},l),{},{components:n})):r.createElement(h,s({ref:t},l))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=h;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var l=2;l<i;l++)o[l]=n[l];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},85537:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>f,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var r=n(83117),a=(n(67294),n(3905));const i={state:"draft"},o="Interface Types",s={unversionedId:"spec/definition/interface",id:"spec/definition/interface",title:"Interface Types",description:"Types that send and/or receive data using interface protocols.",source:"@site/../doc/spec/definition/interface.md",sourceDirName:"spec/definition",slug:"/spec/definition/interface",permalink:"/fbthrift/docs/spec/definition/interface",draft:!1,editUrl:"https://github.com/facebook/fbthrift/blob/main/thrift/website/../doc/spec/definition/interface.md",tags:[],version:"current",frontMatter:{state:"draft"},sidebar:"sidebar",previous:{title:"Errors and Exceptions",permalink:"/fbthrift/docs/spec/definition/exception"},next:{title:"Programs",permalink:"/fbthrift/docs/spec/definition/program"}},c={},l=[{value:"Service",id:"service",level:2},{value:"Request Response",id:"request-response",level:2},{value:"Request No Response",id:"request-no-response",level:2},{value:"Stream",id:"stream",level:2},{value:"Sink",id:"sink",level:2},{value:"Interaction",id:"interaction",level:2}],p={toc:l};function f(e){let{components:t,...n}=e;return(0,a.mdx)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.mdx)("h1",{id:"interface-types"},"Interface Types"),(0,a.mdx)("p",null,"Types that send and/or receive ",(0,a.mdx)("a",{parentName:"p",href:"/fbthrift/docs/spec/definition/data"},"data")," using ",(0,a.mdx)("a",{parentName:"p",href:"/fbthrift/docs/spec/protocol/interface/"},"interface protocols"),"."),(0,a.mdx)("h2",{id:"service"},"Service"),(0,a.mdx)("p",null,"A ",(0,a.mdx)("strong",{parentName:"p"},"service")," is an interface for RPC defined in Thrift. Each service has a set of functions. Each ",(0,a.mdx)("strong",{parentName:"p"},"function")," has a unique name and takes a list of arguments. A function can throw an exception if the server handler chooses to throw an exception or if there was an issue with the RPC itself. The list of arguments follows a similar rule to Thrift struct type with the exception of field qualifier. A function can be qualified with a ",(0,a.mdx)("strong",{parentName:"p"},"function qualifier")," such as the following:"),(0,a.mdx)("ul",null,(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("inlineCode",{parentName:"li"},"oneway"),": the client does not expect response back from server."),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("inlineCode",{parentName:"li"},"idempotent"),": safe to retry immediately after a transient failure."),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("inlineCode",{parentName:"li"},"readonly"),": always safe to retry.")),(0,a.mdx)("p",null,"A service can extend other services, inheriting the set of functions included in the inheriting service using the reserved keyword ",(0,a.mdx)("inlineCode",{parentName:"p"},"extends"),". Please refer to the ",(0,a.mdx)("a",{parentName:"p",href:"https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/schema.thrift"},"schema")," for more detail and syntax."),(0,a.mdx)("h2",{id:"request-response"},"Request Response"),(0,a.mdx)("p",null,"A ",(0,a.mdx)("strong",{parentName:"p"},"request reponse")," is a method that takes a single payload for the request and waits for a single payload for the response."),(0,a.mdx)("h2",{id:"request-no-response"},"Request No Response"),(0,a.mdx)("p",null,"A ",(0,a.mdx)("strong",{parentName:"p"},"request no response")," is a method that takes a single payload for the request, but it does not wait for the response. It is enabled with ",(0,a.mdx)("inlineCode",{parentName:"p"},"oneway")," function qualifier keyword."),(0,a.mdx)("h2",{id:"stream"},"Stream"),(0,a.mdx)("p",null,"A ",(0,a.mdx)("strong",{parentName:"p"},"stream")," is a communication abstraction between a client and server, where a server acts as the producer and the client acts as the consumer. It allows the flow of ordered messages from the server to the client. All messages in the stream have same payload object type. It may initially return an initial response specified in the IDL. The client can choose to cancel the stream at any time. The server can terminate the stream by sending the exception. Please refer to the ",(0,a.mdx)("a",{parentName:"p",href:"https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/schema.thrift"},"schema")," and the ",(0,a.mdx)("a",{parentName:"p",href:"/fbthrift/docs/spec/protocol/interface/"},"protocol spec")," for more information about streams."),(0,a.mdx)("h2",{id:"sink"},"Sink"),(0,a.mdx)("p",null,"A ",(0,a.mdx)("strong",{parentName:"p"},"sink")," is similar to a stream, but the client acts as the producer and the server acts as the consumer. It allows the flow of ordered messages from the client to the server. It may initially return an initial response specified in the IDL, and it always returns a final response. The client will wait for a final response back from the server marking the completion of the sink. The client can terminate the sink by sending an exception to the server. The server can also terminate the sink by sending an exception while consuming payloads. The exception acts as the termination of the sink. Therefore, the client will not wait for the final response back from the server when it receives an exception. Please refer to the ",(0,a.mdx)("a",{parentName:"p",href:"https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/schema.thrift"},"schema")," and the ",(0,a.mdx)("a",{parentName:"p",href:"/fbthrift/docs/spec/protocol/interface/"},"protocol spec")," for more information about sinks."),(0,a.mdx)("h2",{id:"interaction"},"Interaction"),(0,a.mdx)("p",null,"An ",(0,a.mdx)("strong",{parentName:"p"},"interaction")," is a multi-request contract that keeps related methods together, manages states, and integrates with the routing layer to ensure those requests are sent over the same connection to the same host. It can be created using a ",(0,a.mdx)("strong",{parentName:"p"},"factory function")," that returns an interaction. Or, a ",(0,a.mdx)("strong",{parentName:"p"},"constructor")," that is generated using reserved keyword ",(0,a.mdx)("inlineCode",{parentName:"p"},"performs"),", and it generates a non-RPC constructor on the client and server. The server also listens to a ",(0,a.mdx)("strong",{parentName:"p"},"termination signal")," that immediately is invoked instead of waiting for outstanding requests and streams unlike the destructor. Using annotations, it supports serial interaction that limits processing to a single method at a time and event base threading model that directly processes on the I/O thread instead of the server executor. Please refer to the ",(0,a.mdx)("a",{parentName:"p",href:"https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/schema.thrift"},"schema")," and the ",(0,a.mdx)("a",{parentName:"p",href:"/fbthrift/docs/spec/protocol/interface/"},"protocol spec")," for more information about interactions."))}f.isMDXComponent=!0}}]);