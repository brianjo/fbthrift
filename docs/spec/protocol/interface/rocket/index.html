<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-spec/protocol/interface/rocket">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Rocket Protocol | Facebook Thrift</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://www.internalfb.com/docs/spec/protocol/interface/rocket"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Rocket Protocol | Facebook Thrift"><meta data-rh="true" name="description" content="This document describes the Rocket transport protocol and how it is used by Thrift to achieve the Interface Types by using RSocket."><meta data-rh="true" property="og:description" content="This document describes the Rocket transport protocol and how it is used by Thrift to achieve the Interface Types by using RSocket."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.internalfb.com/docs/spec/protocol/interface/rocket"><link data-rh="true" rel="alternate" href="https://www.internalfb.com/docs/spec/protocol/interface/rocket" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.internalfb.com/docs/spec/protocol/interface/rocket" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.afc07cdd.css">
<link rel="preload" href="/assets/js/runtime~main.1abcbc59.js" as="script">
<link rel="preload" href="/assets/js/main.b3203846.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>
<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Facebook Thrift Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Facebook Thrift Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Facebook Thrift</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/fbthrift" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/glossary">Glossary</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/spec/">Specification</a><button aria-label="Toggle the collapsible sidebar category &#x27;Specification&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spec/about">Specification Format</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spec/conformance/">Conformance</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/spec/definition/">Definitions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Definitions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spec/glossary">Glossary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spec/idl">Interface Definition Language (IDL)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/spec/protocol/">Protocols</a><button aria-label="Toggle the collapsible sidebar category &#x27;Protocols&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spec/protocol/channel">Channels</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spec/protocol/data">Data Protocols</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/spec/protocol/interface/">Interface Protocols</a><button aria-label="Toggle the collapsible sidebar category &#x27;Interface Protocols&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/spec/protocol/interface/rocket">Rocket Protocol</a></li></ul></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/guide/">User Guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;User Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/experimental/">Experimental Features</a><button aria-label="Toggle the collapsible sidebar category &#x27;Experimental Features&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/beta/">Beta Features</a><button aria-label="Toggle the collapsible sidebar category &#x27;Beta Features&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/cpp/">C++</a><button aria-label="Toggle the collapsible sidebar category &#x27;C++&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/internals/">Internals</a><button aria-label="Toggle the collapsible sidebar category &#x27;Internals&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/debugging">Debugging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/references/">References</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/releases">Releases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/contribution-guide">Contribution Guide</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Rocket Protocol</h1><p>This document describes the Rocket transport protocol and how it is used by Thrift to achieve the <a href="/docs/spec/definition/">Interface Types</a> by using <a href="https://rsocket.io/about/protocol" target="_blank" rel="noopener noreferrer">RSocket</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="thrift-protocol-negotiation">Thrift Protocol Negotiation<a class="hash-link" href="#thrift-protocol-negotiation" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rocketrsocket-over-tls">Rocket/RSocket over TLS<a class="hash-link" href="#rocketrsocket-over-tls" title="Direct link to heading">​</a></h3><p>If ALPN is supported by both client and server - &quot;rs&quot; MUST be used as a RSocket protocol identifier.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="other-transport-eg-theader-to-rocketrsocket-upgrade">Other transport (e.g. THeader) to Rocket/RSocket upgrade<a class="hash-link" href="#other-transport-eg-theader-to-rocketrsocket-upgrade" title="Direct link to heading">​</a></h3><p>Once a non-Rocket Thrift connection is established - an upgrade to Rocket/RSocket SHOULD be attempted by the client.</p><p>To perform an upgrade a client MUST use the <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RocketUpgrade.thrift" target="_blank" rel="noopener noreferrer">RocketUpgrade</a> interface immediately after opening the connection.</p><p>If the upgrade was successful - both server and client MUST treat the connection as a newly established RSocket connection.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="versioning">Versioning<a class="hash-link" href="#versioning" title="Direct link to heading">​</a></h2><p>Rocket follows a versioning scheme consisting of a single numeric version. This document describes protocol versions 8 through 10.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="connection-setup">Connection setup<a class="hash-link" href="#connection-setup" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rocket-protocol-version-9">Rocket protocol version 9+<a class="hash-link" href="#rocket-protocol-version-9" title="Direct link to heading">​</a></h3><p>RSocket setup frame MUST use application/x-rocket-metadata+compact as Metadata Encoding MIME Type and application/x-rocket-payload as Data Encoding MIME Type.</p><p>RSocket setup payload MUST consist of a compact-serialized <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>RequestSetupMetadata</code></a> struct. Such compact-serialized <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>RequestSetupMetadata</code></a> MAY be prefixed by a 32-bit <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>kRocketProtocolKey</code></a> if Rocket client wants to remain compatible with Rocket server using Rocket protocol version 6-8.</p><p>If connection establishment was successful, the server MUST respond with a SetupResponse control message.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rocket-protocol-version-8">Rocket protocol version 8<a class="hash-link" href="#rocket-protocol-version-8" title="Direct link to heading">​</a></h3><p>RSocket setup payload MUST consist of a 32-bit <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>kRocketProtocolKey</code></a> followed by a compact-serialized <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>RequestSetupMetadata</code></a> struct.</p><p>If connection establishment was successful, the server MUST respond with a SetupResponse control message.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="request-response">Request-Response<a class="hash-link" href="#request-response" title="Direct link to heading">​</a></h2><p>With an already established connection, the client must send a <a href="https://rsocket.io/about/protocol/#request_response-frame-0x04" target="_blank" rel="noopener noreferrer">REQUEST_RESPONSE</a> frame of the following format:</p><table><thead><tr><th align="center">Field</th><th align="center">Notes</th></tr></thead><tbody><tr><td align="center">Metadata</td><td align="center">Compact Protocol serialized <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>RequestRpcMetadata</code></a> struct</td></tr><tr><td align="center">Data</td><td align="center">Thrift serialized arguments from <a href="/docs/spec/protocol/interface/#request">Interface Protocol</a></td></tr></tbody></table><p>The Thrift server should then perform the method specified in the RequestRpcMetadata method name field. Once the result is ready, the server should send a <a href="https://rsocket.io/about/protocol/#payload-frame-0x0a" target="_blank" rel="noopener noreferrer">PAYLOAD</a> frame containing the result in the following format:</p><table><thead><tr><th align="center">Field</th><th align="center">Notes</th></tr></thead><tbody><tr><td align="center">Metadata</td><td align="center">Compact Protocol serialized <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>ResponseRpcMetadata</code></a> struct</td></tr><tr><td align="center">Data</td><td align="center">Thrift serialized result from <a href="/docs/spec/protocol/interface/#response">Interface Protocol</a></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="declared-exception">Declared Exception<a class="hash-link" href="#declared-exception" title="Direct link to heading">​</a></h3><p>If the response is a <a href="/docs/spec/definition/exception#exceptions">declared exception</a>, the <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift#PayloadMetadata" target="_blank" rel="noopener noreferrer"><code>PayloadMetadata</code></a> in the <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift#ResponseRpcMetadata" target="_blank" rel="noopener noreferrer"><code>ResponseRpcMetadata</code></a> struct <strong>must</strong> contain a <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift#PayloadExceptionMetadataBase" target="_blank" rel="noopener noreferrer"><code>PayloadExceptionMetadataBase</code></a> which contains a <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift#PayloadDeclaredExceptionMetadata" target="_blank" rel="noopener noreferrer"><code>PayloadDeclaredExceptionMetadata</code></a> struct.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="undeclared-exception">Undeclared Exception<a class="hash-link" href="#undeclared-exception" title="Direct link to heading">​</a></h3><p>If the response is an <a href="/docs/spec/definition/exception#exceptions">undeclared exception</a>, the <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift#PayloadMetadata" target="_blank" rel="noopener noreferrer"><code>PayloadMetadata</code></a> in the <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift#ResponseRpcMetadata" target="_blank" rel="noopener noreferrer"><code>ResponseRpcMetadata</code></a> struct <strong>must</strong> contain a <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift#PayloadExceptionMetadataBase" target="_blank" rel="noopener noreferrer"><code>PayloadExceptionMetadataBase</code></a> which contains a <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift#PayloadAppUnknownExceptionMetdata" target="_blank" rel="noopener noreferrer"><code>PayloadAppUnknownExceptionMetdata</code></a> struct.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="any-exception">Any Exception<a class="hash-link" href="#any-exception" title="Direct link to heading">​</a></h3><p>If the response is an Any exception, the <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift#PayloadMetadata" target="_blank" rel="noopener noreferrer"><code>PayloadMetadata</code></a> in the <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift#ResponseRpcMetadata" target="_blank" rel="noopener noreferrer"><code>ResponseRpcMetadata</code></a> struct <strong>must</strong> contain a <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift#PayloadExceptionMetadataBase" target="_blank" rel="noopener noreferrer"><code>PayloadExceptionMetadataBase</code></a> which contains a <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift#PayloadAnyExceptionMetadata" target="_blank" rel="noopener noreferrer"><code>PayloadAnyExceptionMetadata</code></a> struct.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="internal-server-error">Internal Server Error<a class="hash-link" href="#internal-server-error" title="Direct link to heading">​</a></h3><p>Internal server errors <strong>must</strong> be sent as an <a href="https://rsocket.io/about/protocol/#error-frame-0x0b" target="_blank" rel="noopener noreferrer">ERROR</a> frame using the following format:</p><table><thead><tr><th align="center">Field</th><th align="center">Notes</th></tr></thead><tbody><tr><td align="center">Error code</td><td align="center">Should be one of <a href="https://rsocket.io/about/protocol/#error-codes" target="_blank" rel="noopener noreferrer">REJECTED</a>, <a href="https://rsocket.io/about/protocol/#error-codes" target="_blank" rel="noopener noreferrer">CANCELED</a>, or <a href="https://rsocket.io/about/protocol/#error-codes" target="_blank" rel="noopener noreferrer">INVALID</a></td></tr><tr><td align="center">Error data</td><td align="center">Compact Protocol serialized <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift#ResponseRpcError" target="_blank" rel="noopener noreferrer"><code>ResponseRpcError</code></a> struct</td></tr></tbody></table><p>The <code>ResponseErrorCode</code> in the <code>ResponseRpcError</code> struct is a mapping from the error code in the <a href="/docs/spec/protocol/interface/#internal-server-error">Interface protocol</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="oneway-request-request-no-response">Oneway Request (request no response)<a class="hash-link" href="#oneway-request-request-no-response" title="Direct link to heading">​</a></h2><p>With an already established connection, the client must send a <a href="https://rsocket.io/about/protocol/#request_fnf-fire-n-forget-frame-0x05" target="_blank" rel="noopener noreferrer">REQUEST_FNF</a> frame of the following format:</p><table><thead><tr><th align="center">Field</th><th align="center">Notes</th></tr></thead><tbody><tr><td align="center">Metadata</td><td align="center">Compact Protocol serialized <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>RequestRpcMetadata</code></a> struct</td></tr><tr><td align="center">Data</td><td align="center">Thrift serialized arguments from <a href="/docs/spec/protocol/interface/#request">Interface Protocol</a></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="stream">Stream<a class="hash-link" href="#stream" title="Direct link to heading">​</a></h2><p>With an already established connection, the client must send a <a href="https://rsocket.io/about/protocol/#request_stream-frame-0x06" target="_blank" rel="noopener noreferrer">REQUEST_STREAM</a> frame of the following format:</p><table><thead><tr><th align="center">Field</th><th align="center">Notes</th></tr></thead><tbody><tr><td align="center">Initial request N</td><td align="center">Value MUST be &gt; 0. First credit is always consumed by initial response</td></tr><tr><td align="center">Metadata</td><td align="center">Compact Protocol serialized <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>RequestRpcMetadata</code></a> struct</td></tr><tr><td align="center">Data</td><td align="center">Thrift serialized arguments from <a href="/docs/spec/protocol/interface/#request">Interface Protocol</a></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="stream-initial-response">Stream Initial Response<a class="hash-link" href="#stream-initial-response" title="Direct link to heading">​</a></h3><p>The initial response for a stream is distinct from <a href="#stream-responses">streaming responses</a> and it must be sent from the server even if there is no initial response type specified in the IDL. The initial response should be sent using the same format as a regular <a href="#request-response">Request-Response response</a> with the distinction that the Complete flag must only be set if the payload contains an exception.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="stream-responses">Stream Responses<a class="hash-link" href="#stream-responses" title="Direct link to heading">​</a></h3><p>Once a stream has been established, the server can send stream payloads to the client as long as it has credits remaining. Sending a stream payload must consume one credit on the server. To send a stream payload to the client, the server must send a <a href="https://rsocket.io/about/protocol/#payload-frame-0x0a" target="_blank" rel="noopener noreferrer">PAYLOAD</a> frame of the following format:</p><table><thead><tr><th align="center">Field</th><th align="center">Notes</th></tr></thead><tbody><tr><td align="center">Metadata</td><td align="center">Compact Protocol serialized <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>StreamPayloadMetadata</code></a> struct</td></tr><tr><td align="center">Data</td><td align="center">Thrift serialized result from <a href="/docs/spec/protocol/interface/#response">Interface Protocol</a> using the serialization protocol specified in <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>RequestRpcMetadata</code></a> struct</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="stream-exception">Stream Exception<a class="hash-link" href="#stream-exception" title="Direct link to heading">​</a></h3><p>Once a stream has been established, the server <strong>may</strong> terminate the stream by sending an exception to the client. The server <strong>must not</strong> send any more payloads to the client after it sends an exception. Stream exceptions <strong>must</strong> be sent using the format specified in <a href="#request-response">Request-Response</a> with the distinction that the Metadata <strong>must</strong> contain a Compact Protocol serialized <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>StreamPayloadMetadata</code></a> struct instead of a <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>ResponseRpcMetadata</code></a> struct. Additionally, if the exception is an internal server error, <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>StreamRpcError</code></a> struct <strong>must</strong> be used instead of <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>ResponseRpcError</code></a> struct.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="flow-control">Flow Control<a class="hash-link" href="#flow-control" title="Direct link to heading">​</a></h3><p>Thrift stream is flow-controlled using the <a href="https://rsocket.io/about/protocol/#reactive-streams-semantics" target="_blank" rel="noopener noreferrer">RSocket credit mechanism</a>.</p><p>Note that request SHOULD always come with at least one credit, which will be consumed by initial response.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cancellation">Cancellation<a class="hash-link" href="#cancellation" title="Direct link to heading">​</a></h3><p>Thrift stream supports cancellation from the client using <a href="https://rsocket.io/about/protocol/#cancel-frame-0x09" target="_blank" rel="noopener noreferrer">RSocket cancellation mechanism</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sink">Sink<a class="hash-link" href="#sink" title="Direct link to heading">​</a></h2><p>With an already established connection, the client must send a <a href="https://rsocket.io/about/protocol/#request_channel-frame-0x07" target="_blank" rel="noopener noreferrer">REQUEST_CHANNEL</a> frame of the following format:</p><table><thead><tr><th align="center">Field</th><th align="center">Notes</th></tr></thead><tbody><tr><td align="center">Initial request N</td><td align="center">Must be at least 2 (1 initial response, 1 final response)</td></tr><tr><td align="center">Metadata</td><td align="center">Compact Protocol serialized <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>RequestRpcMetadata</code></a> struct</td></tr><tr><td align="center">Data</td><td align="center">Thrift serialized arguments from <a href="/docs/spec/protocol/interface/#request">Interface Protocol</a></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sink-initial-response">Sink Initial Response<a class="hash-link" href="#sink-initial-response" title="Direct link to heading">​</a></h3><p>The initial response must be sent from the server even if there is no initial response type specified in the IDL. The initial response should be sent using the same format as a regular <a href="#request-response">Request-Response response</a> with the distinction that the Complete flag must only be set if the payload contains an exception.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sink-payloads">Sink Payloads<a class="hash-link" href="#sink-payloads" title="Direct link to heading">​</a></h3><p>Once a sink has been established, the client can send sink payloads to the server as long as it has credits remaining. To send a sink payload to the server, the client must send a <a href="https://rsocket.io/about/protocol/#payload-frame-0x0a" target="_blank" rel="noopener noreferrer">PAYLOAD</a> frame of the following format:</p><table><thead><tr><th align="center">Field</th><th align="center">Notes</th></tr></thead><tbody><tr><td align="center">Metadata</td><td align="center">Compact Protocol serialized <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>StreamPayloadMetadata</code></a> struct</td></tr><tr><td align="center">Data</td><td align="center">Thrift serialized result from <a href="/docs/spec/protocol/interface/#response">Interface Protocol</a> using the serialization protocol specified in <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>RequestRpcMetadata</code></a> struct</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sink-exception">Sink Exception<a class="hash-link" href="#sink-exception" title="Direct link to heading">​</a></h3><p>A client can terminate the sink early by sending an exception to the server. The client <strong>must not</strong> send any more payloads to the server after it sends an exception. The exception <strong>must</strong> be sent using the format specified in <a href="#request-response">Request-Response</a> with the distinction that the Metadata <strong>must</strong> contain a Compact Protocol serialized <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>StreamPayloadMetadata</code></a> struct instead of a <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>ResponseRpcMetadata</code></a> struct.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="final-response">Final Response<a class="hash-link" href="#final-response" title="Direct link to heading">​</a></h3><p>The server MAY send a final response to the client any time after the sink has been established. The final response acts as the termination of the sink and the client should not send any more sink payloads to the server. To send a final response to the client, the server MUST send a <a href="https://rsocket.io/about/protocol/#payload-frame-0x0a" target="_blank" rel="noopener noreferrer">PAYLOAD</a> frame of the following format:</p><table><thead><tr><th align="center">Field</th><th align="center">Notes</th></tr></thead><tbody><tr><td align="center">Metadata</td><td align="center">Compact Protocol serialized <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>StreamPayloadMetadata</code></a> struct</td></tr><tr><td align="center">Data</td><td align="center">Thrift serialized result from <a href="/docs/spec/protocol/interface/#response">Interface Protocol</a> using the serialization protocol specified in <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>RequestRpcMetadata</code></a> struct</td></tr></tbody></table><p>The final response may be an exception in which case, it <strong>must</strong> be sent using the format specified in <a href="#request-response">Request-Response</a> with the distinction that the Metadata <strong>must</strong> contain a Compact Protocol serialized <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>StreamPayloadMetadata</code></a> struct instead of a <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>ResponseRpcMetadata</code></a> struct. Additionally, if the exception is an internal server error, <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>StreamRpcError</code></a> struct <strong>must</strong> be used instead of <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer"><code>ResponseRpcError</code></a> struct.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="flow-control-1">Flow Control<a class="hash-link" href="#flow-control-1" title="Direct link to heading">​</a></h3><p>Sink payloads are flow-controlled using the <a href="https://rsocket.io/about/protocol/#reactive-streams-semantics" target="_blank" rel="noopener noreferrer">RSocket credit mechanism</a>.</p><p>Sink responses are NOT flow-controlled. The request SHOULD always come with at least two credits, which will be consumed by initial response and final response.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="interactions">Interactions<a class="hash-link" href="#interactions" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="factory-functions">Factory Functions<a class="hash-link" href="#factory-functions" title="Direct link to heading">​</a></h3><p>Factory function requests should be sent the same way as their non-interaction counterpart with the <code>RequestRpcMetadata.createInteraction</code> field filled out (Note: <code>RequestRpcMetadata.interactionId</code> must not be set).</p><p>The <code>InteractionCreate</code> struct must contain a unique interaction ID as well as the name of the interaction (as defined in the IDL).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="subsequent-requests">Subsequent Requests<a class="hash-link" href="#subsequent-requests" title="Direct link to heading">​</a></h3><p>All subsequent requests should be sent the same way as their non-interaction counterpart with two important distinctions:</p><ol><li><code>RequestRpcMetadata.interactionId</code> must be set to the Interaction ID that was created by the Interaction factory function (Note: <code>RequestRpcMetadata.createInteraction</code> must not be set)</li><li>The request must be sent on the same connection as the original factory function request</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="termination">Termination<a class="hash-link" href="#termination" title="Direct link to heading">​</a></h3><p>An interaction can only be terminated by the client. If the client has already sent the factory function request to the server before terminating the interaction, it should send a termination signal to the server. Once an interaction is terminated, the client must not send any more requests with that interaction ID.</p><p>To send a termination signal, the client must send a <a href="https://rsocket.io/about/protocol/#metadata_push-frame-0x0c" target="_blank" rel="noopener noreferrer">METADATA_PUSH</a> frame of the following format:</p><table><thead><tr><th align="center">Field</th><th align="center">Notes</th></tr></thead><tbody><tr><td align="center">Metadata</td><td align="center">Compact Protocol serialized <a href="https://github.com/facebook/fbthrift/blob/main/thrift/lib/thrift/RpcMetadata.thrift" target="_blank" rel="noopener noreferrer">ClientPushMetadata</a> union</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="control-messages">Control messages<a class="hash-link" href="#control-messages" title="Direct link to heading">​</a></h2><p>All Control messages are sent via METADATA_PUSH RSocket frame.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="control-messages-from-the-server">Control messages from the server<a class="hash-link" href="#control-messages-from-the-server" title="Direct link to heading">​</a></h3><p>METADATA_PUSH frame sent by the server MUST contain a compact-serialized ServerPushMetadata struct.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="control-messages-from-the-client">Control messages from the client<a class="hash-link" href="#control-messages-from-the-client" title="Direct link to heading">​</a></h3><p>METADATA_PUSH frame sent by the client MUST contain a compact-serialized ClientPushMetadata struct.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/fbthrift/blob/main/thrift/website/../doc/spec/protocol/interface/rocket.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/spec/protocol/interface/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Interface Protocols</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/guide/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">User Guide</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#thrift-protocol-negotiation" class="table-of-contents__link toc-highlight">Thrift Protocol Negotiation</a><ul><li><a href="#rocketrsocket-over-tls" class="table-of-contents__link toc-highlight">Rocket/RSocket over TLS</a></li><li><a href="#other-transport-eg-theader-to-rocketrsocket-upgrade" class="table-of-contents__link toc-highlight">Other transport (e.g. THeader) to Rocket/RSocket upgrade</a></li></ul></li><li><a href="#versioning" class="table-of-contents__link toc-highlight">Versioning</a></li><li><a href="#connection-setup" class="table-of-contents__link toc-highlight">Connection setup</a><ul><li><a href="#rocket-protocol-version-9" class="table-of-contents__link toc-highlight">Rocket protocol version 9+</a></li><li><a href="#rocket-protocol-version-8" class="table-of-contents__link toc-highlight">Rocket protocol version 8</a></li></ul></li><li><a href="#request-response" class="table-of-contents__link toc-highlight">Request-Response</a><ul><li><a href="#declared-exception" class="table-of-contents__link toc-highlight">Declared Exception</a></li><li><a href="#undeclared-exception" class="table-of-contents__link toc-highlight">Undeclared Exception</a></li><li><a href="#any-exception" class="table-of-contents__link toc-highlight">Any Exception</a></li><li><a href="#internal-server-error" class="table-of-contents__link toc-highlight">Internal Server Error</a></li></ul></li><li><a href="#oneway-request-request-no-response" class="table-of-contents__link toc-highlight">Oneway Request (request no response)</a></li><li><a href="#stream" class="table-of-contents__link toc-highlight">Stream</a><ul><li><a href="#stream-initial-response" class="table-of-contents__link toc-highlight">Stream Initial Response</a></li><li><a href="#stream-responses" class="table-of-contents__link toc-highlight">Stream Responses</a></li><li><a href="#stream-exception" class="table-of-contents__link toc-highlight">Stream Exception</a></li><li><a href="#flow-control" class="table-of-contents__link toc-highlight">Flow Control</a></li><li><a href="#cancellation" class="table-of-contents__link toc-highlight">Cancellation</a></li></ul></li><li><a href="#sink" class="table-of-contents__link toc-highlight">Sink</a><ul><li><a href="#sink-initial-response" class="table-of-contents__link toc-highlight">Sink Initial Response</a></li><li><a href="#sink-payloads" class="table-of-contents__link toc-highlight">Sink Payloads</a></li><li><a href="#sink-exception" class="table-of-contents__link toc-highlight">Sink Exception</a></li><li><a href="#final-response" class="table-of-contents__link toc-highlight">Final Response</a></li><li><a href="#flow-control-1" class="table-of-contents__link toc-highlight">Flow Control</a></li></ul></li><li><a href="#interactions" class="table-of-contents__link toc-highlight">Interactions</a><ul><li><a href="#factory-functions" class="table-of-contents__link toc-highlight">Factory Functions</a></li><li><a href="#subsequent-requests" class="table-of-contents__link toc-highlight">Subsequent Requests</a></li><li><a href="#termination" class="table-of-contents__link toc-highlight">Termination</a></li></ul></li><li><a href="#control-messages" class="table-of-contents__link toc-highlight">Control messages</a><ul><li><a href="#control-messages-from-the-server" class="table-of-contents__link toc-highlight">Control messages from the server</a></li><li><a href="#control-messages-from-the-client" class="table-of-contents__link toc-highlight">Control messages from the client</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/">Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/thrift" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://engineering.fb.com/2014/02/20/open-source/under-the-hood-building-and-open-sourcing-fbthrift/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/facebook/fbthrift" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/data-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Data Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cookie Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">Copyright © 2022 Facebook, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.1abcbc59.js"></script>
<script src="/assets/js/main.b3203846.js"></script>
</body>
</html>